# NYC Distress Signal API - Environment Variables
# Copy this file to .env and fill in the values

# =============================================================================
# API SETTINGS
# =============================================================================

# Enable debug mode (shows detailed errors, enables hot reload)
DEBUG=false

# Server host and port
HOST=0.0.0.0
PORT=8000

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Require API key for all requests (set to true for production)
REQUIRE_API_KEY=false

# Master key for admin endpoints (generate a secure random string)
# Used to create/manage API keys via /admin/* endpoints
# Example: openssl rand -hex 32
ADMIN_MASTER_KEY=

# =============================================================================
# NYC DATA SOURCES
# =============================================================================

# NYC OpenData App Token (optional, but recommended to avoid throttling)
# Get one free at: https://data.cityofnewyork.us/profile/edit/developer_settings
NYC_OPENDATA_APP_TOKEN=

# 311 complaints lookback period (days)
NYC_311_LOOKBACK_DAYS=90

# =============================================================================
# DOB SCRAPER
# =============================================================================

# Scrape timeout in milliseconds
DOB_SCRAPE_TIMEOUT_MS=30000

# Number of retry attempts
DOB_RETRY_COUNT=2

# =============================================================================
# BROWSER SETTINGS
# =============================================================================

# Run browser in headless mode
BROWSER_HEADLESS=true

# =============================================================================
# CACHE SETTINGS
# =============================================================================

# Cache TTL in seconds (default: 24 hours)
CACHE_TTL_SECONDS=86400

# Cache directory
CACHE_DIRECTORY=.cache

# =============================================================================
# RATE LIMITING
# =============================================================================

# Global rate limit (requests per second per IP)
RATE_LIMIT_REQUESTS_PER_SECOND=1.0

# =============================================================================
# CORS SETTINGS
# =============================================================================

# Allowed origins for CORS (comma-separated for multiple)
# Use ["*"] for development, restrict in production
# Example: ["https://yourdomain.com", "https://app.yourdomain.com"]
CORS_ORIGINS=["*"]

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Trusted proxy IPs (only trust X-Forwarded-For from these IPs)
# Leave empty if not behind a reverse proxy
# Example: ["127.0.0.1", "10.0.0.0/8"]
TRUSTED_PROXIES=[]

# Maximum request body size in bytes (default: 1MB)
MAX_REQUEST_BODY_SIZE=1048576
